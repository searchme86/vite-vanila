{"version":3,"file":"blog-KOFMn_IZ.js","sources":["../../../src/components/blog/scrollTopBlock.js","../../../src/components/blog/scrollMenu.js","../../../src/components/blog/scrollIndicator.js"],"sourcesContent":["/**\n * 스크롤 할 경우, 페이지 상단에 fixed 되는 엘리먼트 애니메이션 스크립트,\n */\n\nconst headerElem = document.querySelector(\"header\");\nconst mainTitle = document.querySelector(\".text__blog-title\");\nconst mainFixedElem = document.querySelector(\".box__fixed-scrollbar\");\nconst mainFixedElemTitle = document.querySelector(\n  \".box__fixed-scrollbar .text__fixed-title\",\n);\nconst mainBlogImage = document.querySelector(\".box__blog-image\");\nconst blogMenu = document.querySelector(\".box__blog-menu\");\nconst searchBox = document.querySelector(\".box__search .box__search-box\");\nconst searchBoxOpenButton = document.querySelector(\n  \".box__control-box .button__search\",\n);\nconst searchBoxCloseButton = document.querySelector(\n  \".box__control-box .button__close\",\n);\n\nmainFixedElemTitle.textContent = mainTitle.textContent;\nlet headerOffsetHeight = headerElem.offsetHeight;\n\nlet treshHold =\n  headerElem.offsetHeight +\n  mainBlogImage.offsetTop +\n  mainBlogImage.offsetHeight;\n\nconst updateDimensions = () => {\n  headerOffsetHeight = headerElem.offsetHeight;\n  treshHold =\n    headerOffsetHeight + mainBlogImage.offsetTop + mainBlogImage.offsetHeight;\n};\n\nconst activeElemOnScroll = () => {\n  const isScrolledPastHeader = window.scrollY > headerOffsetHeight;\n  const isPastTreshHold = window.scrollY > treshHold;\n\n  if (isScrolledPastHeader) {\n    mainFixedElem.classList.add(\"scroll\");\n    searchBoxOpenButton.classList.remove(\"active\");\n    searchBoxCloseButton.classList.remove(\"active\");\n    searchBox.classList.remove(\"active\");\n  } else {\n    mainFixedElem.classList.remove(\"scroll\");\n  }\n  if (isPastTreshHold) {\n    mainFixedElem.classList.add(\"textUp\");\n    blogMenu.classList.add(\"show\");\n  } else {\n    mainFixedElem.classList.remove(\"textUp\");\n    blogMenu.classList.remove(\"show\");\n  }\n};\n\nwindow.addEventListener(\"scroll\", activeElemOnScroll);\nwindow.addEventListener(\"resize\", updateDimensions);\n","/**\n * 페이지 스크롤에 따른 우측 sticky 엘리먼트의 메뉴 애니메이션 스크립트\n */\n\nlet currentScrollTop;\nconst sections = document.querySelectorAll(\".section__blog\");\nconst sectionTopOffsets = [];\nconst sectionBottomOffsets = [];\n\nconst getCurrentScrollTop = () => {\n  return window.scrollY || (window.scrollY === 0 ? 0 : window.pageYOffset);\n};\n\nconst updateValues = () => {\n  currentScrollTop = getCurrentScrollTop();\n\n  sections.forEach((section, index) => {\n    const rect = section.getBoundingClientRect();\n    sectionTopOffsets[index] = rect.top + currentScrollTop;\n    sectionBottomOffsets[index] =\n      sectionTopOffsets[index] + section.offsetHeight;\n  });\n};\n\nconst isInViewport = (index) => {\n  return (\n    currentScrollTop >= sectionTopOffsets[index] &&\n    sectionBottomOffsets[index] > currentScrollTop\n  );\n};\n\nconst listActive = (index) => {\n  const listItems = document.querySelectorAll(\".list-item__blog-menu\");\n  listItems.forEach((item) => item.classList.remove(\"active\"));\n  listItems[index].classList.add(\"active\");\n};\n\nconst addTitleToMenu = () => {\n  const contentTitleArray = document.querySelectorAll(\".text__dummy-title\");\n  const menuLink = document.querySelectorAll(\".text__navigation-title\");\n\n  Array.from(contentTitleArray).forEach((item, index) => {\n    const sourceText = item.textContent;\n    menuLink[index].textContent = sourceText;\n  });\n};\n\nconst sectionActive = (index) => {\n  listActive(index);\n  addTitleToMenu();\n};\n\nconst checkInSection = () => {\n  for (let index = 0; index < sections.length; index++) {\n    if (isInViewport(index)) {\n      sectionActive(index);\n      break;\n    }\n  }\n};\n\nconst handleScroll = () => {\n  currentScrollTop = getCurrentScrollTop();\n  checkInSection();\n};\n\nconst handleResize = () => {\n  updateValues();\n  checkInSection();\n};\n\nconst calculateScrollValues = (moveY, scrollSpeed, scrollDirection) => {\n  scrollSpeed += 3 * scrollDirection;\n\n  let scrollY;\n  if (scrollDirection > 0) {\n    scrollY = Math.max(moveY, window.scrollY + scrollSpeed);\n  } else {\n    scrollY = Math.min(moveY, window.scrollY + scrollSpeed);\n  }\n\n  return {scrollSpeed, scrollY};\n};\n\nconst scrollStep = (moveY, scrollSpeed, scrollDirection, loop) => {\n  const {scrollSpeed: newScrollSpeed, scrollY} = calculateScrollValues(\n    moveY,\n    scrollSpeed,\n    scrollDirection,\n  );\n  window.scrollTo({\n    top: scrollY,\n    behavior: \"smooth\",\n  });\n\n  if (\n    (scrollY >= moveY && scrollDirection > 0) ||\n    (scrollY <= moveY && scrollDirection < 0)\n  ) {\n    clearInterval(loop);\n  }\n\n  return newScrollSpeed;\n};\n\nconst scrollMove = (moveY) => {\n  let scrollSpeed = 0;\n\n  const loop = setInterval(() => {\n    const scrollDirection = moveY > window.scrollY ? 1 : -1;\n    scrollSpeed = scrollStep(moveY, scrollSpeed, scrollDirection, loop);\n\n    if (\n      (window.scrollY >= moveY && scrollDirection > 0) ||\n      (window.scrollY <= moveY && scrollDirection < 0)\n    ) {\n      clearInterval(loop);\n    }\n  }, 10);\n};\n\ndocument.querySelectorAll(\".nav_list li a\").forEach((anchor) => {\n  anchor.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n\n    const section = document.querySelector(anchor.hash);\n    if (section) {\n      const offTop = section.getBoundingClientRect().top + window.scrollY;\n      scrollMove(offTop);\n    }\n  });\n});\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  updateValues();\n  checkInSection();\n});\n\nwindow.addEventListener(\"scroll\", handleScroll, false);\nwindow.addEventListener(\"resize\", handleResize, false);\n","/**\n * 페이지 상단, 스크롤에 따른 가로줄 생성 스크립트\n */\n\nconst scrollBarElement = document.getElementById(\"scroll-bar\");\n\nconst updateScrollBarStyle = (percentage) => {\n  scrollBarElement.style.transform = `translateX(-${100 - percentage}%)`;\n  scrollBarElement.style.transition = \"transform 0.3s ease-out\";\n};\n\nconst updateScrollBar = () => {\n  if (!scrollBarElement) return;\n\n  const {scrollTop, scrollHeight, clientHeight} =\n    document.documentElement || document.body;\n\n  const contentHeight = scrollHeight - clientHeight;\n  const scrollPercentage =\n    contentHeight > 0 ? (scrollTop / contentHeight) * 100 : 0;\n\n  updateScrollBarStyle(scrollPercentage);\n};\n\nconst handleScroll = () => {\n  updateScrollBar();\n};\n\nconst handleResize = () => {\n  updateScrollBar();\n};\n\nwindow.addEventListener(\"scroll\", handleScroll);\n\nwindow.addEventListener(\"resize\", handleResize);\n"],"names":["headerElem","document","querySelector","mainTitle","mainFixedElem","mainFixedElemTitle","mainBlogImage","blogMenu","searchBox","searchBoxOpenButton","searchBoxCloseButton","textContent","headerOffsetHeight","offsetHeight","treshHold","offsetTop","currentScrollTop","window","addEventListener","isScrolledPastHeader","scrollY","isPastTreshHold","classList","add","remove","sections","querySelectorAll","sectionTopOffsets","sectionBottomOffsets","getCurrentScrollTop","pageYOffset","updateValues","forEach","section","index","rect","getBoundingClientRect","top","isInViewport","sectionActive","listItems","item","contentTitleArray","menuLink","Array","from","sourceText","checkInSection","length","scrollStep","moveY","scrollSpeed","scrollDirection","loop","newScrollSpeed","Math","max","min","scrollTo","behavior","clearInterval","anchor","e","preventDefault","hash","setInterval","scrollBarElement","getElementById","updateScrollBar","scrollTop","scrollHeight","clientHeight","documentElement","body","contentHeight","percentage","style","transform","transition"],"mappings":"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"}