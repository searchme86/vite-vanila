{"version":3,"file":"products-yes_F6J-.js","sources":["../../../src/utils/render.js","../../../src/components/search.js","../../../src/components/companies.js","../../../src/views/products.js"],"sourcesContent":["/**\n * 의존 파일 :\n * products.js\n * itemTemplate.js\n *\n * 상품 페이지(products.html)에 상품 레이아웃을 구성하고,\n * 유저가 카트 이미지 버튼 클릭 시, localStorage에 해당 아이템이 추가되는 init 스크립트\n */\n\nimport {createProductItem} from \"./itemTemplate\";\nimport {addToCart} from \"../components/cart/updateCart\";\n\nexport const addItemsToContainer = (items, container, filters) => {\n  container.innerHTML = items.map(createProductItem).join(\"\");\n\n  if (filters) return;\n\n  // 유저가 카트 이미지 버튼 클릭 시, localStorage에 해당 아이템이 추가되는 init 스크립트\n  const handleAddToCartClick = (event) => {\n    const target = event.target.closest(\".button__add-cart\");\n    if (target) {\n      const productId = target.dataset.id;\n      addToCart(productId);\n    }\n  };\n\n  container.addEventListener(\"click\", handleAddToCartClick);\n};\n","/**\n * 상품 페이지(products.html)에서,\n * 상품 검색 스크립트\n */\n\nimport {inputformElem, nameInput} from \"../utils/cartElemDom.js\";\nimport {addItemsToContainer} from \"../utils/render.js\";\nimport {productContainer} from \"../utils/cartElemDom.js\";\n\nconst renderSearchComponent = (store) => {\n  const filterProductsByName = (value) =>\n    store.filter((product) => product.title.toLowerCase().startsWith(value));\n\n  const displayFilterError = (container) => {\n    container.innerHTML = `<strong class=\"filter-error\">검색결과가 존재하지 않습니다.</strong>`;\n  };\n\n  const displayFilteredProducts = (newStore) => {\n    if (newStore.length < 1) {\n      displayFilterError(productContainer);\n    } else {\n      addItemsToContainer(newStore, productContainer);\n    }\n  };\n\n  inputformElem.addEventListener(\"keyup\", () => {\n    const value = nameInput.value.toLowerCase();\n    const newStore = value ? filterProductsByName(value) : store;\n    displayFilteredProducts(newStore);\n  });\n};\n\nexport default renderSearchComponent;\n","/**\n * 상품 페이지(products.html)에서,\n * 카테고리 별로 생성 된 메뉴를 만드는 스크립트\n * 해당 텍스트 클릭 시, 해당 메뉴 필터링\n */\n\nimport {addItemsToContainer} from \"../utils/render.js\";\nimport {companiesDOM, productContainer} from \"../utils/cartElemDom.js\";\n\nconst filterStoreByCompany = (category, store) => {\n  return category === \"all\"\n    ? [...store]\n    : store.filter((product) => product.category === category);\n};\n\nconst getAllUniqueCompanies = (store) => {\n  return [\"all\", ...new Set(store.map((product) => product.category))];\n};\n\nconst renderCompanyButtons = (categories) => {\n  const createCompanyList = (category) => {\n    return /*html*/ `\n      <li role=\"presentation\" class=\"list-item__company\">\n        <button type=\"button\" class=\"button__item-company\">${category}</button>\n      </li>\n    `;\n  };\n  companiesDOM.innerHTML = categories.map(createCompanyList).join(\"\");\n};\n\nconst handleCompanyButtonClick = (event, store) => {\n  const element = event.target;\n\n  const items = document.querySelectorAll(\".list-item__company\");\n\n  items.forEach((item) => {\n    item.classList.remove(\"active\");\n    item.removeAttribute(\"aria-pressed\", false);\n  });\n\n  element.parentElement.classList.add(\"active\");\n  element.parentElement.setAttribute(\"aria-pressed\", true);\n\n  if (element.classList.contains(\"button__item-company\")) {\n    addItemsToContainer(\n      filterStoreByCompany(element.textContent, store),\n      productContainer,\n    );\n  }\n};\n\nconst addCompanyButtonClickHandler = (store) => {\n  companiesDOM.addEventListener(\"click\", (e) =>\n    handleCompanyButtonClick(e, store),\n  );\n};\n\nexport const renderCompanyComponent = (store) => {\n  const companies = getAllUniqueCompanies(store);\n  renderCompanyButtons(companies);\n  addCompanyButtonClickHandler(store);\n};\n","import \"../assets/style/components/header.scss\";\nimport \"../assets/style/components/footer.scss\";\nimport \"../assets/style/pages/products.scss\";\nimport \"../assets/style/media/headerMedia.scss\";\nimport \"../assets/style/media/productsMedia.scss\";\nimport \"../assets/style/media/footerMedia.scss\";\n\nimport \"../components/cart/toggleCart\";\nimport \"../components/cart/updateCart\";\nimport \"../components/bannerSlider\";\n\nimport {productContainer} from \"../utils/cartElemDom\";\nimport {fetchProducts} from \"../api/fetchProducts\";\nimport {storeState, setStoreState} from \"../store/store\";\nimport {addItemsToContainer} from \"../utils/render\";\nimport renderSearchComponent from \"../components/search\";\nimport {renderCompanyComponent} from \"../components/companies\";\n\nconst initializeApp = async () => {\n  if (storeState.length < 1) {\n    const products = await fetchProducts();\n    setStoreState(products);\n  }\n  addItemsToContainer(storeState, productContainer);\n  renderSearchComponent(storeState);\n  renderCompanyComponent(storeState);\n};\n\ninitializeApp();\n"],"names":["addItemsToContainer","items","container","filters","innerHTML","map","createProductItem","join","addEventListener","event","target","closest","productId","dataset","id","addToCart","renderSearchComponent","store","inputformElem","value","nameInput","toLowerCase","newStore","filter","product","title","startsWith","length","productContainer","addCompanyButtonClickHandler","companiesDOM","e","element","document","querySelectorAll","forEach","item","classList","remove","removeAttribute","parentElement","add","setAttribute","contains","category","filterStoreByCompany","textContent","renderCompanyComponent","companies","Set","getAllUniqueCompanies","categories","storeState","products","fetchProducts","setStoreState","initializeApp"],"mappings":"kPAYO,MAAMA,EAAsB,CAACC,EAAOC,EAAWC,KACpDD,EAAUE,UAAYH,EAAMI,IAAIC,CAAAA,EAAmBC,KAAK,EAEpDJ,EAAAA,CAAAA,GAWJD,EAAUM,iBAAiB,QARGC,GAC5B,CAAA,MAAMC,EAASD,EAAMC,OAAOC,QAAQ,qBACpC,GAAID,EAAQ,CACV,MAAME,EAAYF,EAAOG,QAAQC,GACjCC,EAAUH,CACX,CAAA,CAAA,CAAA,CAGsD,ECjBrDI,EAAyBC,IAgB7BC,EAAcV,iBAAiB,QAAS,IACtC,CAAA,MAAMW,EAAQC,EAAUD,MAAME,YACxBC,EAAAA,EAAWH,GAjBWA,GAC5BF,EAAMM,OAAQC,GAAYA,EAAQC,MAAMJ,cAAcK,WAAWP,CAAAA,CAAAA,GAgBnBA,CAAAA,EAASF,GAVxBK,IAC3BA,EAASK,OAAS,EACDC,EALXxB,UAAY,yDAOpBJ,EAAoBsB,EAAUM,CAC/B,CAAA,GAMuBN,CAAAA,CAAS,EACjC,ECsBEO,EAAgCZ,GACpCa,CAAAA,EAAatB,iBAAiB,QAAUuB,IAtBRtB,CAAAA,EAAOQ,IACvC,CAAA,MAAMe,EAAUvB,EAAMC,OAERuB,SAASC,iBAAiB,uBAElCC,QAASC,GAAAA,CACbA,EAAKC,UAAUC,OAAO,QACtBF,EAAAA,EAAKG,gBAAgB,eAAA,GAAsB,CAG7CP,EAAAA,EAAQQ,cAAcH,UAAUI,IAAI,UACpCT,EAAQQ,cAAcE,aAAa,eAAA,EAE/BV,EAAAA,EAAQK,UAAUM,SAAS,sBAAA,GAC7B3C,GAnC0B4C,CAAAA,EAAU3B,IAC/B2B,IAAa,MAChB,CAAI3B,GAAAA,CAAAA,EACJA,EAAMM,OAAQC,GAAYA,EAAQoB,WAAaA,CAiC/CC,GAAqBb,EAAQc,YAAa7B,GAC1CW,CAEH,CAAA,GAK0BG,EAAGd,CAC7B,CAAA,CAAA,EAGU8B,EAA0B9B,GACrC,CAAA,MAAM+B,GA3CuB/B,GACtB,CAAC,MAAU,GAAA,IAAIgC,IAAIhC,EAAMZ,IAAKmB,GAAYA,EAAQoB,QA0CvCM,CAAAA,CAAAA,GAAsBjC,GAvCb,IAACkC,EAAAA,EAwCPH,EAhCrBlB,EAAa1B,UAAY+C,EAAW9C,IAPTuC,GACT;AAAA;AAAA,6DAEyCA;;OAIArC,KAAK,EAAA,EAiChEsB,EAA6BZ,CAAM,CAAA,aCzCnC,GAAImC,EAAWzB,OAAS,EAAG,CACzB,MAAM0B,QAAiBC,EACvBC,EAAAA,EAAcF,CACf,CAAA,CACDrD,EAAoBoD,EAAYxB,GAChCZ,EAAsBoC,CAAAA,EACtBL,EAAuBK,CAAAA,CAAW,GAGpCI"}